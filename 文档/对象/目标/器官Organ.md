# 器官Organ

器官是一种颇为独特的目标Target，其同时也具备【物品】的一些方法，其参与构成了玩家角色和敌人

其功能可能包括：

1. 被动地提供各类效果
2. 向角色的牌堆中提供卡牌
3. 主动使用以提供效果

## 属性Status

器官的独特属性包括：

### 等级 level

通过同化得到的器官固定为1级

玩家角色可以在【水池】房间消耗物质为器官提升等级

不同器官拥有不同的等级上限，并且升级提供的效果也改变，通常情况下等级越高提供的效果越强力

### 稀有度 quality

能够一定程度上反应器官的强力程度

更稀有的器官在黑市中的售价更贵，出现概率更低。其升级所需的物质量也会更高，对应的吸收其获得的物质量也会更高。

### 质量 mass

器官的生命值，敌人的一部分效果可以作用于器官，使其损失质量，当器官的质量归0时，该器官会[【损坏】](###损坏)，造成一系列的负面效果。

**注意**：一部分器官不具备该属性，此类器官无法为角色承担伤害，但也不会轻易【损坏】

### 部位 part

占据相同部位的器官将会互斥，玩家在选择新器官时会自动吞噬旧器官以获得一定量物质

**注意**：一部分器官不具备该属性，此类器官通常可以存在复数个。

其余的属性则包括

~~~
吞噬获取量：吞噬器官时可以获得物质量，是其他行为的基准值


~~~



## 行为

### 获取

获取器官的途径包含：

- 战斗胜利后，可以抽取3个敌人拥有的【未损坏】的器官，从中选择1个进行同化
- 部分事件会提供器官
- 部分遗物，甚至是器官的效果也会提供器官
- 在黑市中消耗金钱获得指定的器官

### 同化

在战斗结束时，角色可以在敌人拥有的器官中选择1个未【损坏】的器官进行同化

消耗【20%吞噬获取量】的物质量，令角色拥有该器官。消耗物质的量与器官本身，稀有度，以及器官是否损坏相关

### 吞噬

在非战斗状态下可选，消耗指定的器官并根据其【等级a】和【稀有度b】获取【吞噬获取量*a + b】的物质

### 售卖

在黑市出售器官并根据其【等级】和【稀有度】获取【金钱】

**注意**：售出器官相较于售出等量物质的收益高20%

### 升级

在水池处消耗【110%吞噬获取量】以提升指定器官的【等级】，器官的效果会随着等级不断提高

### 修复

在非战斗状态下可选，消耗【60%吞噬获取量】，使得自身已有的【损坏】器官恢复其质量。

### 损坏

一部分器官在其[【质量】](###质量 mass)的值为0时，或受到特定的【效果】时，可能会【损坏】

器官在损坏时

- 不再提供被动效果
- 其提供的卡牌无法被打出(不会从牌组中移除)
- 无法使用其主动效果
- 敌人无法使用该器官对应的行为

## 交互 Interaction

器官具备【物品】和【目标】的所有交互，以及一些独特的交互：

### possess

**始终生效**：只要拥有器官就会持续的效果，无论是否损坏

**用途：** 占据部位、固定提供卡牌等无视损坏状态的设计

**示例：**
```typescript
possess: {
    target: {key: "self"},
    triggers: [...],  // 始终有效的触发器
    modifiers: [...]  // 始终有效的属性修饰
}
```

### work（最常用）

**未损坏时生效**：器官正常工作时提供的效果，损坏时自动失效

**用途：** 95% 的被动效果都用这个

**示例：**
```typescript
work: {
    target: {key: "self"},
    triggers: [{
        how: "take",
        key: "damage",
        event: [...]  // 受到伤害时减伤
    }]
}
```

### broken

**仅损坏时生效**：只在器官损坏状态下才会触发的效果

**用途：** 损坏后的负面效果、自毁机制等特殊设计

**示例：**
```typescript
broken: {
    target: {key: "self"},
    triggers: [{
        when: "after",
        how: "make",
        key: "turnStart",
        event: [...]  // 损坏后每回合受到伤害
    }]
}
```

### get

**获得时触发**：获得器官时的一次性效果

**示例：** 获得3点最大生命

### lose

**失去时触发**：失去器官时的一次性效果

### use

**主动使用**：玩家主动使用器官产生的效果

**注意：** 损坏时无法使用

