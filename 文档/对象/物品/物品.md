[toc]

# 物品

物品是一系列可以被玩家Player获得并管理的对象，包括：

- 金钱
- 卡牌
- 药水
- 遗物
- 器官(同时也是一种目标Target)

物品常作为玩家操作的对象存在，物品通常可以被使用，从而产生一个使用物品事件，该事件会触发物品的指定效果，在这个过程中物品往往作为事件的媒介。

## 交互 interaction

我们将使用/获取物品等，由玩家的行为所产生的事件称为交互。交互对于某种物品而言是规定的。
我们通过物品的interaction属性来管理各个交互，包括交互过程和交互产生的事件。
交互的常见字段包含：

key:交互的关键字，用于绑定该交互到对应的方法上，例如key:use的交互会在构建item时被使用
target:目标类型，其值通过targetTypeList的映射获取，在对象中是一个函数，决定该交互在发生前选择目标的行为是否可行
effects:交互成功时会产生的效果

需要区分的是，物品的交互与预先绑定在物品上的触发器并不是同类存在。交互效果会在特定的交互事件创建时添加到该事件中，而不是收到某些事件的触发时响应。

### 使用use

最常见的物品交互方法，不同类型的物品有着不同的fork，但最终都会通过item.use来处理构建use事件。
use事件必定以物品本身为媒介，效果存储在物品的interaction.use.effects中。

### 获取get

获取物品，本质上是获取了“物品修饰器”。
物品修饰器决定了对象身上当前有哪些物品。在失去物品修饰器时，重新计算所有修饰器该类物品的内容。
物品修饰器内同时还会存储物品的获取来源,uuId等信息；

物品修饰器存在于对应物品类型的_modifier属性中
例如:
potions:{
    items:[……] //药水实例对象
    _modifier:[……] //药水修饰器对象
}

详情参见系统=>修饰器

### 方法


