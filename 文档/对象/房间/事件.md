### 事件

层级内，概率出现的特殊房间，每层的数量为3~7个。其中发生的事件会从当前层的事件池中抽取，不会重复。

事件具备不同的选项，对应产生不同的效果，可能具备随机性，这些效果都会显示在选项上，不会出现纯粹的惩罚性事件。事件能够提供的效果多种多样。

允许玩家通过SL的方式重置事件，但随机的结果并不会改变。

## 事件房间注册

位置：`src/static/registry/rooms/initEventRooms.ts`

事件房间的注册包括类型注册和配置注册

### 类型注册

```typescript
import { EventRoom } from "@/core/objects/room/EventRoom"
import { roomRegistry } from "../roomRegistry"

roomRegistry.registerRoomType("event", EventRoom)
```

### 配置注册

事件房间配置来自 eventList（懒加载模块）

```typescript
import { getLazyModule } from "@/core/utils/lazyLoader"

const eventList = getLazyModule('eventList')

// eventList 数据结构
const eventList = [
    {
        key: "event_001",
        title: "神秘商人",
        description: "遇到了一个神秘的商人",
        // ... 其他事件配置
    },
    // ...
]

// 批量注册
eventList.forEach(event => {
    roomRegistry.registerRoomConfig({
        key: event.key,
        type: "event",
        name: event.title,
        description: event.description,
        customData: {
            eventKey: event.key
        }
    })
})
```

### 配置文件位置

事件房间配置：`src/static/list/room/event/eventList.ts`
事件效果映射：`src/static/list/room/event/eventEffectMap.ts`

### 添加新事件

在 eventList.ts 中添加新的事件配置

```typescript
{
    key: "event_new",
    title: "新事件",
    description: "这是一个新事件",
    choices: [
        {
            label: "选项1",
            effects: [/* ... */]
        },
        {
            label: "选项2",
            effects: [/* ... */]
        }
    ]
}
```

配置会在应用启动时自动注册到房间注册表