# 修饰器

修饰器是一种不可见对象，不会直接为玩家呈现。

修饰器的主要作用是控制对象的属性或物品的更新，其本质上是一种更简便地处理获取和失去过程的语法糖。有了修饰器，只需要定义获取属性/物品时的事件，而不需要关心失去属性/物品时同步移除获取内容。

ps：这并不代表你不可以获取到：“失去物品”事件的触发，修饰器仅仅是简化了失去xx的过程

eg：对于器官【厚皮】，你需要定义：[在获得这个器官时：生命值+10]
    但你不需要关心[在失去这个器官时：生命值-10]
    因为在失去器官时，我们会同步移除该器官添加的修饰器，并用剩下的修饰器再次计算生命值

修饰器分为属性修饰器和内容修饰器两种，其有一部分共同属性

## 共同属性

uuId:唯一Id
source:修饰器的来源
modifierFunc:修饰器在计算时会触发的函数，用其返回值修饰目标
ifDisabled:是否可用

此外，在创建修饰器的同时，也会返回如下结构
{
    remove:移除修饰器的函数,
    uuId:该修饰器的唯一Id
}
    
通常情况下，修饰器并不会被直接操作，而是通过使用移除函数将修饰器对象从当前位置删除，但你也可以通过uuId来尝试获取修饰器

## 属性修饰器

即属性Status的修饰器，负责更新对象各类属性值，按照属性值的key值分类，存储于_modifier中

eg:
attack:{
    value:xxxx, //攻击力的数值
    _modifier:[……] //攻击力的修饰器
}

在对象获取属性的增减时，本质上是在获取/失去该属性的修饰器，并根据现有的修饰器重新计算当前值

### 独特属性

属性名statusKey: 该修饰器作用的属性的键名
优先级level: 属性修饰器被要求传入优先级，默认为0
在计算属性值时，会使用优先级来排列属性修饰器的顺序，优先级越大越后计算，一般来说

level:0 //加减法，最先计算
level:1 //乘除法，居中计算
level:2 //开方乘方，靠后计算

属性修饰器的优先级会在属性修改方法中被设定，参见系统=>属性

## 内容修饰器

通常情况下指物品的修饰器，也包括器官的修饰器

内容修饰器的定义与属性修饰器没有太大的区别，只不过内容修饰器还会存储与其相关的对象实例
例如：【恶性肿瘤】：[在获得这个器官时，获得3张【癌细胞】卡牌]，其对应的卡牌修饰器会存储这3张卡牌的实例对象(创建这3张卡牌对象的步骤并不在这里！)

### 独特属性

路径path：你需要为内容修饰器设定存储路径，通常建议放在：对象/内容/_modifier下
例如：[entity,organ]表示在 entity.organ._modifier 下,
    [entity,item,potion]表示在 entiy.item.potion._modifier 下






